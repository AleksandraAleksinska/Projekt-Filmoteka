const e=async()=>{try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=ac3e035161883f7175e5be9954a0068d");return await e.json()}catch(e){console.log(e.message)}};e().then((e=>o(e))).catch((e=>console.log(e)));const o=e=>{const o=e.genres;localStorage.setItem("genres",JSON.stringify(o))};const n=document.querySelector(".movie-list"),a=async()=>{try{const e=await fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=ac3e035161883f7175e5be9954a0068d"),o=await e.json();return console.log(o),o}catch(e){console.log(e.message)}};a().then((e=>t(e))).catch((e=>console.log(e)));const t=e=>{const o=e.results,a=o.map((({poster_path:e,title:o,release_date:n,genre_ids:a})=>{const t=n.slice(0,4),s=localStorage.getItem("genres"),i=JSON.parse(s).flatMap((e=>{let o=[];return a.includes(e.id)&&o.push(e.name),o}));return console.log(i),`\n        <li>\n        <div class="movie-card card-hover">\n            <img class="movie-card__img" src="https://image.tmdb.org/t/p/w500${e}" loading="lazy" \n            />\n            <div class="movie-card__desc">\n            <p class="movie-card__title">${o}</p>\n            <p class="movie-card__info"> ${i.slice(0,3).join(", ")} | ${t}</p>                     \n            </div>\n        </div>\n        </li>\n        `})).join("");n.innerHTML=a};let s="";const i=document.querySelector(".movie-list");async function l(){return(await fetch(`https://api.themoviedb.org/3/search/movie?api_key=ac3e035161883f7175e5be9954a0068d&query=${s}&page=1`)).json()}document.querySelector("#header__form").addEventListener("submit",(function(e){e.preventDefault();s=e.currentTarget.name.value.trim(),console.log(s),i.innerHTML="",l().then((e=>{!function(e){const o="https://image.tmdb.org/t/p/original",n=e.results.map((e=>` <li>\n        <div class="movie-card">\n            <img class="movie-card__img" src="${o}${e.poster_path}" loading="lazy" \n            />\n            <div class="movie-card__desc">\n            <p class="movie-card__title">${e.title}</p>\n            <p class="movie-card__info"> Drama, Action | ${e.release_date}</p>                     \n            </div>\n        </div>\n        </li>\n        `)).join("");i.insertAdjacentHTML("beforeend",n)}(e)})).catch((e=>console.log(e.message)))})),l().then((e=>console.log(e.results))).catch((e=>console.log(e.message)));const c=document.querySelector(".modal__movie"),r=async()=>{try{const e=76600,o="ac3e035161883f7175e5be9954a0068d",n=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${o}&language=en-US`),a=await n.json();return console.log(a),a}catch(e){console.log(e.message)}},m=e=>{const o=`<img class="modal__img" src="https://image.tmdb.org/t/p/w500${e.poster_path}"></img>\n        <h2 class="modal__title uppercase"> ${e.title}</h2>\n            <ul class="modal__info">\n                <li class="modal__info-item">\n                    <p class="modal__info--key">Vote / Votes</p>\n                    <p class="modal__info--number">${e.vote_average.toFixed(1)} / ${e.vote_count}</p>\n                    </li>\n                <li class="modal__info-item">\n                    <p class="modal__info--key">Popularity</p>\n                    <p class="modal__info--number">${e.popularity.toFixed(1)}</p>\n                    </li>\n                <li class="modal__info-item">\n                   <p class="modal__info--key">Original Title</p>\n                   <p class="modal__info--value uppercase">${e.original_title}</p>\n                   </li>\n                <li class="modal__info-item">\n                   <p class="modal__info--key">Genre</p>\n                   <p class="modal__info--value">${e.genres.map((e=>e.name)).join(", ")}</p>\n                   </li>\n            </ul>\n        <div class="modal__overview">\n            <p class="modal__overview--about">about</p>\n            <p>${e.overview}</p>\n        </div>`;c.innerHTML=o};r().then((e=>m(e))).catch((e=>console.log(e)));
//# sourceMappingURL=index.0fb8cf67.js.map
