{"mappings":"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","sources":["src/js/genres.js","src/js/main-page-trending.js","src/js/fetch.js","src/js/modal.js"],"sourcesContent":["const getAllGenres = async() => {\n    const APIkey = 'ac3e035161883f7175e5be9954a0068d';\n    const url = `https://api.themoviedb.org/3/genre/movie/list?api_key=${APIkey}`;\n    try {\n        const genresData = await fetch(url); \n        const genresDataJSON = await genresData.json();        \n        return genresDataJSON;\n    }\n    catch (error) {\n        console.log(error.message)\n    }\n}\n\ngetAllGenres()\n.then((genresDataJSON) => movieGenres(genresDataJSON))\n.catch((error) => console.log(error))\n\n\nconst movieGenres = (genresDataJSON) => {\n    const genres = genresDataJSON.genres;\n    localStorage.setItem('genres', JSON.stringify(genres));\n}\n\nexport default getAllGenres;","import getAllGenres from \"./genres\";\nconst trendingMoviesDOM = document.querySelector('.movie-list');\n\n\nconst getTrendingMovies = async () => {\n    const APIkey = 'ac3e035161883f7175e5be9954a0068d';\n    const url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${APIkey}`;\n    try{\n        const moviesData = await fetch(url);\n        const moviesDataJSON = await moviesData.json();\n        console.log(moviesDataJSON);\n        return moviesDataJSON;\n        \n    } catch (error) {\n        console.log(error.message)\n    }     \n}\ngetTrendingMovies()\n.then((movies) => renderTrendingMovies(movies))\n.catch((error) => console.log(error));\n\nconst renderTrendingMovies = (response) => {\n    const movies = response.results; \n    // console.log(movies);\n    const imgUrl = 'https://image.tmdb.org/t/p/w500'; \n   \n    const markup = (movies)   \n    .map(({poster_path, title, release_date, genre_ids}) => {\n        const releaseYear = release_date.slice(0, 4);\n        const savedGenres = localStorage.getItem(\"genres\");\n        const parsedGenres = JSON.parse(savedGenres);\n        const movieGenres = parsedGenres.flatMap((genre) => {\n            let genresArray = [];\n            if(genre_ids.includes(genre.id)) {\n                genresArray.push(genre.name);                \n            }            \n            return genresArray;\n        })\n        console.log(movieGenres);\n        return `\n        <li>\n        <div class=\"movie-card\">\n            <img class=\"movie-card__img\" src=\"${imgUrl}${poster_path}\" loading=\"lazy\" \n            />\n            <div class=\"movie-card__desc\">\n            <p class=\"movie-card__title\">${title}</p>\n            <p class=\"movie-card__info\"> ${movieGenres.slice(0, 3)} | ${releaseYear}</p>                     \n            </div>\n        </div>\n        </li>\n        `\n    })\n    .join('');\n    trendingMoviesDOM.innerHTML=markup;\n\n}\n\n\n\nconst trendingMovies = {getTrendingMovies, renderTrendingMovies};\nexport default trendingMovies;","//import axios from \"axios\";\nexport { getMoviesbyKeyword };\n\n//axios.defaults.baseURL = `https://api.themoviedb.org/3/search/keyword?api_key=${APIkey}`;\n\n//const trendingMoviesDOM = document.querySelector('.movie-list');\nconst APIkey = 'ac3e035161883f7175e5be9954a0068d';\nlet keyword = '';\nlet page = 1;\n\nconst gallery = document.querySelector('.movie-list');\nconst form = document.querySelector('#header__form');\n//const input =document.querySelector(\".header__input\");\nform.addEventListener('submit', handleSubmit);\n\nasync function getMoviesbyKeyword() {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${APIkey}&query=${keyword}&page=${page}`,\n  );\n  const data = response.json();\n  return data;\n}\n\ngetMoviesbyKeyword()\n  .then(data => console.log(data.results))\n  .catch(error => console.log(error.message));\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  //keyword=input.value.trim();\n  const APIkey = 'ac3e035161883f7175e5be9954a0068d';\n  keyword = e.currentTarget.name.value.trim();\n  console.log(keyword);\n  gallery.innerHTML = '';\n\n  getMoviesbyKeyword(keyword)\n    .then(data => {\n      renderMoviesList(data);\n    })\n    .catch(error => console.log(error.message));\n  //console.log(keyword);\n}\n\nfunction renderMoviesList(data) {\n  const URLimage = 'https://image.tmdb.org/t/p/original';\n  const markup = data.results\n    .map(\n      key =>\n        ` <li>\n        <div class=\"movie-card\">\n            <img class=\"movie-card__img\" src=\"${URLimage}${key.poster_path}\" loading=\"lazy\" \n            />\n            <div class=\"movie-card__desc\">\n            <p class=\"movie-card__title\">${key.title}</p>\n            <p class=\"movie-card__info\"> Drama, Action | ${key.release_date}</p>                     \n            </div>\n        </div>\n        </li>\n        `,\n    )\n    .join('');\n\n  return gallery.insertAdjacentHTML('beforeend', markup);\n}\n\n// async function getMoviesbyKeyword (keyword) {\n//     const response = await axios.get(\n//       `&query=${keyword}`,\n//     );\n//     return response;\n//   }\n","const movieCard = document.querySelector('.modal__movie');\n\nconst getSelectedMovieDetails = async () => {\n    try {\n        const id = 76600;\n        const API_KEY = 'ac3e035161883f7175e5be9954a0068d';\n        const selectedMovieFetch = await fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`);\n        const selectedMovieData = await selectedMovieFetch.json();\n        console.log(selectedMovieData);\n        return selectedMovieData;      \n    } catch (error) {\n        console.log(error.message)\n    }\n}\n\nconst renderSelectedMovieDetails = (movie) => {\n    const imgUrl = 'https://image.tmdb.org/t/p/w500';\n    const selectedMovie =\n        `<img class=\"modal__img\" src=\"${imgUrl}${movie.poster_path}\"></img>\n        <h2 class=\"modal__title\"> ${movie.title}</>\n        <div class=\"modal__info-wrapper\">\n            <ul class=\"modal__info\">\n                <li class=\"modal__info modal__info--key\">Vote / Votes</li>\n                <li class=\"modal__info modal__info--key\">Popularity</li>\n                <li class=\"modal__info modal__info--key\">Original Title</li>\n                <li class=\"modal__info modal__info--key\">Genre</li>\n            </ul>\n            <ul class=\"modal__info\">\n                <li class=\"modal__info modal__info--number\"><span class=\"rating-frame\">${movie.vote_average.toFixed(1)}</span> / <span class=\"rating-frame rating-frame--gray\">${movie.vote_count}</span></li>\n                <li class=\"modal__info modal__info--number\">${movie.popularity.toFixed(1)}</li>\n                <li class=\"modal__info modal__info--value\">${movie.original_title}</li>\n                <li class=\"modal__info modal__info--value\">${movie.genres.map(genre => genre.name).join(', ')}</li>\n            </ul>\n        </div>\n        <div class=\"modal__overview\">\n            <p class=\"modal__overview--about\">about</p>\n            <p>${movie.overview}</p>\n        </div>`\n\n    movieCard.innerHTML = selectedMovie;\n}\n\ngetSelectedMovieDetails()\n    .then((movie) => renderSelectedMovieDetails(movie))\n    .catch((error) => console.log(error));\n\nconst SelectedMovie = { getSelectedMovieDetails, renderSelectedMovieDetails }\nexport default SelectedMovie;"],"names":["$bc36aade2b53bb55$var$getAllGenres","async","genresData","fetch","json","error","console","log","message","then","genresDataJSON","$bc36aade2b53bb55$var$movieGenres","catch","genres","localStorage","setItem","JSON","stringify","$9769bf9da6990cc8$var$trendingMoviesDOM","document","querySelector","$9769bf9da6990cc8$var$getTrendingMovies","moviesData","moviesDataJSON","movies","$9769bf9da6990cc8$var$renderTrendingMovies","response","results","markup","map","poster_path","title","release_date","genre_ids","releaseYear","slice","savedGenres","getItem","movieGenres","parse","flatMap","genre","genresArray","includes","id","push","name","join","innerHTML","$fdd021d831e049a3$var$keyword","$fdd021d831e049a3$var$gallery","$fdd021d831e049a3$export$581862c912840742","addEventListener","e","preventDefault","currentTarget","value","trim","data","URLimage","key","insertAdjacentHTML","$fdd021d831e049a3$var$renderMoviesList","$2ea800676e6f7669$var$movieCard","$2ea800676e6f7669$var$getSelectedMovieDetails","API_KEY","selectedMovieFetch","selectedMovieData","$2ea800676e6f7669$var$renderSelectedMovieDetails","movie","selectedMovie","vote_average","toFixed","vote_count","popularity","original_title","overview"],"version":3,"file":"index.07ea35ad.js.map"}